<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Focus Fish Tank</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="app">
    <div id="tank-wrapper">
      <canvas id="tank" width="360" height="260"></canvas>
      <button id="debug-btn" title="Debug Mode">ğŸ›</button>
      <button id="settings-btn" title="Settings">âš™</button>
      <button id="arrange-btn" title="Rearrange Decorations">âš“</button>
      <div id="mission-banner"></div>
      <div id="dev-console">
        <span class="dev-prompt">â–¶</span>
        <input id="dev-input" type="text" autocomplete="off" spellcheck="false" placeholder="enter commandâ€¦">
      </div>
    </div>

    <div id="debug-panel">
      <div id="debug-health-row">
        <span>Tank Health</span>
        <span id="debug-health-val">70</span>
      </div>
      <input type="range" id="debug-health-slider" min="0" max="100" value="70">
      <div id="debug-rate-row">
        <span>Reaction Speed</span>
        <span id="debug-rate-val">2.0</span>
      </div>
      <input type="range" id="debug-rate-slider" min="0" max="10" step="0.5" value="2">
      <div id="debug-accrual-row">
        <span>Coin Speed</span>
        <span id="debug-accrual-val">1Ã—</span>
      </div>
      <input type="range" id="debug-accrual-slider" min="1" max="50" step="1" value="1">
      <div id="debug-grow-row">
        <span>Growth Speed</span>
        <span id="debug-grow-val">1Ã—</span>
      </div>
      <input type="range" id="debug-grow-slider" min="1" max="200" step="1" value="1">
      <div id="debug-coin-btns">
        <button class="dbg-coin" data-amt="1">+1</button>
        <button class="dbg-coin" data-amt="10">+10</button>
        <button class="dbg-coin" data-amt="50">+50</button>
        <button class="dbg-coin" data-amt="-10">âˆ’10</button>
        <button id="debug-food-btn">ğŸ¥˜ + Food</button>
        <button id="debug-fish-btn">ğŸŸ + Fish</button>
      </div>
    </div>

    <div id="tab-bar">
      <button class="tab-btn active" data-tab="tank">ğŸª¸ Home</button>
      <button class="tab-btn" data-tab="crew">ğŸ  Pals</button>
      <button class="tab-btn" data-tab="shop">ğŸ›’ Shop</button>
    </div>

    <div id="panel">
      <div id="score-row">
        <span class="label">Focus</span>
        <div id="score-bar-wrap"><div id="score-bar"></div></div>
        <span id="score-value">70</span>
      </div>

      <div id="status-row">
        <span id="status-dot"></span>
        <span id="status-text">Loadingâ€¦</span>
      </div>

      <div id="time-row">
        <div class="time-cell">
          <span class="label">Focused</span>
          <span id="focus-time" class="time-val">0s</span>
        </div>
        <div class="divider"></div>
        <div class="time-cell">
          <span class="label">Distracted</span>
          <span id="distracted-time" class="time-val">0s</span>
        </div>
      </div>

      <div id="food-row">
        <span class="food-icon">ğŸ¥˜</span>
        <span class="label food-lbl">Food</span>
        <div id="food-bar-wrap"><div id="food-bar"></div></div>
        <span id="food-value">15/15</span>
        <span id="food-next" class="food-next">full</span>
      </div>

      <div id="coin-row">
        <span class="coin-icon">ğŸª™</span>
        <span id="coin-value">0</span>
        <span class="coin-label">coins</span>
        <span id="coin-next" class="coin-next">â€¦</span>
      </div>

      <button id="daily-btn">ğŸ Claim Daily +50 coins</button>

    </div>

    <!-- Crew pane â€” live stats for every fish and decoration in the tank -->
    <div id="crew-pane" hidden></div>

    <!-- Shop pane â€” grid is built dynamically from SHOP_ITEMS in shop-pane.ts -->
    <div id="shop-pane" hidden>
      <div id="shop-pane-head">
        <span class="coin-icon">ğŸª™</span>
        <span id="shop-pane-coins">0</span>
        <span class="coin-label">coins available</span>
      </div>
      <div id="shop-pane-body">
        <p class="shop-section-label">ğŸ  Fish</p>
        <div id="shop-pane-grid"></div>
        <p class="shop-section-label">ğŸª¸ Decorations</p>
        <div id="shop-dec-grid"></div>
        <p class="shop-section-label">ğŸ¨ Backgrounds</p>
        <div id="shop-bg-grid"></div>
        <p class="spc-hint">Fish arrive as fry Â· Decorations boost tank beauty.</p>
      </div>
    </div>
  </div>
  <div id="popup-toast"></div>

  <!-- "While you were away" overlay -->
  <div id="away-modal">
    <div id="away-card">
      <div id="away-title">ğŸŸ While you were awayâ€¦</div>
      <div id="away-body"></div>
      <button id="away-dismiss">Let's go!</button>
    </div>
  </div>

  <script type="module" src="./main.ts"></script>
</body>
</html>
